
# Evaluation

この課題が評価されるためには、`signature.txt`ファイルのみをプロジェクトのルートに入れる必要がある。

# For First

* GUIをインストールしてはいけない。その場合成績が０になります。
* Debianか安定版のRockyをインストールできる。新人システム管理者にDebianめっちゃおすすめだよ。
> Rockyってめっちゃ複雑なんよ。KDumpを設定はしなくていいんだけどね、AppArmorやSELinuxが実行されている必要があるんだ。

> レビュー中、あなたの選んだOSについて、いくつか質問されるよ。
> 例えば、`aptitude`と`apt`の違い、`SELinux`や`AppArmor`がなんなのかってのを知っている必要があるってわけ。

# Requirements

* LVMを使って、少なくとも２つの暗号化されたパーティションを作成する。

* SSHサービスがポート番号４２４２で動いていること。セキュリティの観点で、root接続はダメよ。

> SSHは設定された新しいアカウントでレビュー中にテストされるよ。やり方知っておいてね。

* UFW、ファイヤーウォールが構成されている必要があるよ。ポートは４２４２だけ開けておいてね。

> virtual machineが起動したときに、ファイヤーウォールも起動している必要があるよ。Rockyの場合はfirewalld使ってね。

* ホスト名は、ログイン名+42で構成する必要があるよ。**レビュー中に変更するだろうね。**

* 厳しいパスワード規約を実装する必要があるよ。

* `sudo`コマンドをインストールして、設定する必要があるよ。

* rootユーザーとログインユーザーがユーザーとして存在している必要があるよ。

* この時のログインユーザーは、`user42` と `sudo`グループに属している必要があるよ。

> レビュー中、新規ユーザーを作って、そのグループに割り当てる必要があるよ。

## password requirements

* 30日ごとに有効期限が切れる必要があるよ。

* パスワードを変更して良い最少日数は２日だよ。

* 有効期限の７日前に警告が表示される必要があるよ。

* パスワードは少なくとも十文字以上である必要があるよ。

* パスワードは、大文字と小文字、数値が含まれている必要があるよ。

* ３つ以上連続した文字は含めれないよ。

* パスワードはユーザー名を含んじゃいけないよ。

* ユーザーのパスワードには、以前のパスワードにない7種類の文字が含まれている必要があるよ。

* これらのパスワードポリシーにはrootも従う必要があるよ。

* *** パスワードポリシーを設定後、rootを含む全てのアカウントのパスワードを変更する必要があります。 ***

## `sudo`グループに強力な設定をするために、以下の要件に完璧に従ってください

* `sudo` コマンドを使った認証は３回まで行うことができます。

* `sudo`を使って、パスワードを間違えた場合、選択したカスタムメッセージを表示すること？。

* `sudo`を使った全ての実行は、入力、出力ともに、`/var/log/sudo/` フォルダにアーカイブする必要がある。

* セキュリティの観点で、`TTY`モードは有効にする必要がある。

* セキュリティの観点で、`/usr/local/sbin`, `/usr/local/bin`, `/usr/sbin`, `/usr/bin`, `/sbin`, `/bin`, `/snap/bin`
のようなパスは、`sudo`でも制限する必要がある。

## `monitoring.sh`と呼ばれるシンプルなスクリプトの作成

* `bash`で開発される。

* サーバー（？バーチャルマシンのことかな？）を起動すると、下記のような情報が１０分ごとに全てのターミナルに表示される。(`wall`コマンドを見て)

> バーナーは自由です、エラーは表示されてはいけません。

* このスクリプトはいつでも次の情報を表示できる必要があります。

### 情報

* OSのアーキテクチャとそのカーネルのバージョン

* 物理CPUの番号

* 仮想CPUの番号

* 現在のサーバーで利用可能なRAM？（容量かな？）と、稼働率（パーセンテージを表示）

* 現在のサーバーで利用可能なメモリ？（RAMと違うんけ？）と、稼働率（パーセンテージを表示）

* 現在のCPUの稼働率（パーセンテージ表示）

* 最後に再起動した日付と時間

* LVMが起動しているかどうか。

* アクティブな接続の数　？？？？？

> あ、サーバーってSSHサーバーのことか。

* サーバーを使っているユーザーの数

* あなたのサーバーのIPv４のアドレスと、MACアドレス

* `sudo` を使って実行されたコマンドの数。

> レビュー中、このスクリプトの機能について質問されます。
> また、変更なしに停止できる必要があります。 `cron`コマンドを見てね。

# BONUS


# ピアエボリューション

省略

仮想マシンは変更される可能性があるからコピーするなどして保存しておいてね。
